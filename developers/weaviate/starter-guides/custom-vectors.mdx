---
title: Bring your own vectors
sidebar_position: 40
image: og/docs/tutorials.jpg
# tags: ['getting started']
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import Py4Code from '!!raw-loader!/_includes/code/starter-guides/custom-vectors-py4.py';
import Py3Code from '!!raw-loader!/_includes/code/starter-guides/custom-vectors-py3.py';
import Ts3Code from '!!raw-loader!/_includes/code/starter-guides/custom-vectors-ts3.ts';
import Ts2Code from '!!raw-loader!/_includes/code/starter-guides/custom-vectors-ts2.ts';

Weaviate is a vector database. [Vector databases](/blog/vector-library-vs-vector-database) store data objects and vectors that represent those objects. When you import a data object, you normally include a vector representation of that object as well. The vector representation is also called an "embedding."

Later, when you work with the stored vectors, Weaviate uses a vectorized version of your query to search the vector space.

This guide discusses importing data that already has vectors. An alternative approach is to use a [vectorizer](../modules/retriever-vectorizer-modules/index.md) model that generates vectors at import time. Queries have to be vectorized using the same vectorizer as the data objects. When you define your collection schema, be sure to define the same vectorizer that you use to vectorize the data.

Weaviate supports embeddings generated by popular third party services and custom vector embeddings that you create. For details on how to connect your client application to a vectorizer, see the follow pages:

- [Supported models](/developers/weaviate/model-providers)
- [Custom models](/developers/weaviate/modules/other-modules/custom-modules)

## Guide outline

Follow these steps to import data that includes vectors.

1. [Prepare the collection](#prepare-the-collection)
1. [Prepare the data](#prepare-the-data)
1. [Import the data](#import-the-data)

## Connect to a Weaviate instance

This guide uses a free sandbox in [Weaviate Cloud](/developers/wcs/sandbox). If you don't have a Weaviate Cloud account, you can [create one](/developers/wcs/create-account) or else follow along on a Weaviate instance of your own.

The sample code uses environment variables. Set these environment variables in your local environment before you run the sample code:

| Variable | Purpose |
| :- | :- |
| WCS_URL | The URL for your Weaviate Cloud instance |
| WCS_API_KEY | The API key for your Weaviate Cloud instance |

This guide demonstrates how import data objects that already have vectors. If you import data that has to be vectorized, your client connection code should also [include an API key](/developers/weaviate/starter-guides/connect#third-party-api-keys) for the vectorizer API.

## Prepare the collection

Weaviate stores [data](../concepts/data.md) in collections. Each object has a set of properties and a vector representation. Before you import data, you should create a [collection schema](/developers/weaviate/config-refs/schema) to define the collection properties. The property definitions are called a schema.

Vectorizers are defined at the collection level, but you can also define specific details at the property level.

### Create a collection schema

Collection schemas are highly configurable. If you don't provide values for all of the parameters, the auto-schema feature attempts to provide the missing values during import. This example only configures a few properties and the auto-schema assigns the rest.

Objects have vectors and properties. Be careful not to specify your vectors as properties. Weaviate processes vector embeddings and properties differently.

<Tabs groupId="collectionSchema">
   <TabItem value="py4" label="Python Client v4">
      <FilteredTextBlock
         text={Py4Code}
         startMarker="# START create schema"
         endMarker="# END create schema"
         language="py"
      />
   </TabItem>
   <TabItem value="py3" label="Python Client v3">
      <FilteredTextBlock
         text={Py3Code}
         startMarker="# START create schema"
         endMarker="# END create schema"
         language="py"
      />
   </TabItem>
   <TabItem value="ts3" label="JS/TS Client v3">
      <FilteredTextBlock
         text={Ts3Code}
         startMarker="// START create schema"
         endMarker="// END create schema"
         language="ts"
      />
   </TabItem>
   <TabItem value="ts2" label="JS/TS Client v2">
      <FilteredTextBlock
         text={Ts2Code}
         startMarker="// START create schema"
         endMarker="// END create schema"
         language="ts"
      />
   </TabItem>
</Tabs>

### Vectorizers

When you create the schema, you can also specify a vectorizer for the collection. The vectorizer that you specify must be the same vectorizer that you use to vectorize the data objects.

When you query the data, or if you import data objects that don't have vectors, Weaviate uses the vectorizer details to create vectors at import time.

If the imported data objects do have vectors, Weaviate uses those vectors instead of generating new ones.

In this example, the vectors are generated by an OpenAI model, `ada-002`. Weaviate provides an OpenAI integration, `text2vec-openai`, that can access the `ada-002` model. The collection definition specifies the `text2vec-openai` vectorizer.

## Prepare the data

The example data is based on a [set of ten questions](https://raw.githubusercontent.com/weaviate-tutorials/quickstart/main/data/jeopardy_tiny_with_vectors_all-OpenAI-ada-002.json) from the "Jeopardy!" television program. Each of the data objects contains the following elements:

- A vector embedding
- A question
- A category
- An answer

You can use any vectorizer to create the vectors, even a custom vectorizer of your own.

In this example, OpenAI is the vectorizer. The question, answer, and category are the raw data. The vector embedding is the vector that OpenAI returns after processing the raw data.

The example data and embeddings look something like this:

<details>
  <summary>View the dataset</summary>

  |    | Category   | Question                                                                                                          | Answer                  | Vector                                             |
  |---:|:-----------|:------------------------------------------------------------------------------------------------------------------|:------------------------| ---------------------------------------------------|
  |  0 | SCIENCE    | This organ removes excess glucose from the blood & stores it as glycogen                                          | Liver                   | [ -0.006632288, -0.0042016874, ..., -0.020163147 ] |
  |  1 | ANIMALS    | It's the only living mammal in the order Proboseidea                                                              | Elephant                | [ -0.0166891, -0.00092290324, ..., -0.032253385 ]  |
  |  2 | ANIMALS    | The gavial looks very much like a crocodile except for this bodily feature                                        | the nose or snout       | [ -0.015592773, 0.019883318, ..., 0.0033349802 ]   |
  |  3 | ANIMALS    | Weighing around a ton, the eland is the largest species of this animal in Africa                                  | Antelope                | [ 0.014535263, -0.016103541, ..., -0.025882969 ]   |
  |  4 | ANIMALS    | Heaviest of all poisonous snakes is this North American rattlesnake                                               | the diamondback rattler | [ -0.0030859283, 0.015239313, ..., -0.021798335 ]  |
  |  5 | SCIENCE    | 2000 news: the Gunnison sage grouse isn't just another northern sage grouse, but a new one of this classification | species                 | [ -0.0090561025, 0.011155112, ..., -0.023036297 ]  |
  |  6 | SCIENCE    | A metal that is "ductile" can be pulled into this while cold & under pressure                                     | wire                    | [ -0.02735741, 0.01199829, ..., 0.010396339 ]      |
  |  7 | SCIENCE    | In 1953 Watson & Crick built a model of the molecular structure of this, the gene-carrying substance              | DNA                     | [ -0.014227471, 0.020493254, ..., -0.0027445166 ]  |
  |  8 | SCIENCE    | Changes in the tropospheric layer of this are what gives us weather                                               | the atmosphere          | [ 0.009625228, 0.027518686, ..., -0.0068922946 ]   |
  |  9 | SCIENCE    | In 70-degree air, a plane traveling at about 1,130 feet per second breaks it                                      | Sound barrier           | [ -0.0013459147, 0.0018580769, ..., -0.033439033 ] |

</details>

Once you have the embeddings, create a JSON file for the import. In this example, the [data import file](https://raw.githubusercontent.com/weaviate-tutorials/quickstart/main/data/jeopardy_tiny_with_vectors_all-OpenAI-ada-002.json) is already prepared.

## Import the data

This [batch import](/developers/weaviate/tutorials/import#batch-import-process) code imports the question objects, including their vectors. Batch import is more efficient than importing individual objects. You should use batch imports when you import large amounts of data.

import ImportQuestionsWithVectors from '/_includes/code/quickstart.import.questions+vectors.mdx'

<ImportQuestionsWithVectors />

## Summary

Weaviate provides API integrations with many [model providers](/developers/weaviate/model-providers). These providers can vectorize your data at import time. However, if you already have vectorized data, you can import the vectors when you import the underlying data objects.

## Questions and feedback

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>
